{% extends "base_generic.html" %}
{% load static %}
{% load django_tables2 %}
{% load render_table from django_tables2 %}
{% load humanize %}
{% load extras %}

<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<img src="{% static 'catalog/images/local_library_model_uml.png' %}" alt="UML diagram" style="width:555px;height:540px;">

{% block content %}
  <h1>{{account.name}}</h1>
  <p>Data of account {{account.name}}</p>

  <h4>Order list</h4>
  <p>List of assets in future wallet:</p>
  {% if not orders_open %}
  <p class="text-success">Account has no open order</p>
  {% endif %}
  <table class="tg">
    <thead>
         <th style="width: 100px" class="tg-0lax"> Order ID </th>
         <th style="width: 100px" class="tg-0lax"> Market </th>
         <th style="width: 100px" class="tg-0lax"> Type </th>
         <th style="width: 100px" class="tg-0lax"> Status </th>
         <th style="width: 100px" class="tg-0lax"> Side </th>
         <th style="width: 100px" class="tg-0lax"> Action </th>
         <th style="width: 100px" class="tg-0lax"> Size </th>
         <th style="width: 100px" class="tg-0lax"> Cost </th>
         <th style="width: 170px" class="tg-0lax"> Create </th>
         <th style="width: 170px" class="tg-0lax"> Last update </th>
    </thead>

  {% for order in orders %}

    <tr>
          <td style="width: 100px" class="tg-0lax">{{ order.clientid }}</td>
          <td style="width: 100px" class="tg-0lax">{{ order.market.symbol }}</td>
          <td style="width: 100px" class="tg-0lax">{{ order.market.type }}</td>
          <td style="width: 100px" class="tg-0lax">{{ order.status }}</td>
          <td style="width: 100px" class="tg-0lax">{{ order.side }}</td>
          <td style="width: 100px" class="tg-0lax">{{ order.action|drop_ }}</td>
          <td style="width: 100px" class="tg-0lax">{{ order.amount }}</td>
          <td style="width: 100px" class="tg-0lax">{{ order.cost|floatformat:2|intcomma }}</td>
          <td style="width: 170px" class="tg-0lax">{{ order.dt_create }}</td>
          <td style="width: 170px" class="tg-0lax">{{ order.dt_update }}</td>
     </tr>

  {%  endfor %}

   </table>
{% endblock %}